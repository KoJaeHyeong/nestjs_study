// pipe 흐름 설명

https://docs.microsoft.com/en-us/azure/architecture/patterns/pipes-and-filters

파이프는 단방향 통신을 위한 용도로 사용됩니다. 하나의 파이프는 이전 파이프에서 전달된 결과를 입력 값으로 받아 또 다른 결과 값을 내놓습니다. NestJS에서의 파이프는 클라이언트 요청에서 들어오는 데이터를 유효성 검사 및 변환을 수행하여 서버가 원하는 데이터를 얻을 수 있도록 도와주는 역할을 합니다.

=> 함수형 프로그래밍과 직결!!

사용 목적
Middleware: 요청과 응답 객체에 접근하여, 로깅, 인증, CORS 설정 등의 공통 작업을 처리하는 데 사용됩니다.

Pipe: 데이터 유효성 검사, 형변환, 예외 처리 등을 수행하며, 잘못된 요청을 걸러내거나, 파라미터를 올바른 형태로 변환하여 컨트롤러에 전달하는 데 사용됩니다.

실행 순서
Middleware: 요청이 들어온 후, 컨트롤러 및 다른 요소들에 앞서 실행됩니다.

Pipe: 가드와 인터셉터 사이에 실행되며, 컨트롤러에 데이터를 전달하기 전에 실행됩니다.

구현 방식:
Middleware: 클래스 또는 함수를 사용하여 구현할 수 있습니다. 클래스 기반 미들웨어는 @Injectable() 데코레이터와 함께 사용되며, NestMiddleware 인터페이스를 구현해야 합니다. 함수형 미들웨어는 단순한 함수로 구현됩니다.

Pipe: 클래스 기반으로 구현되며, @Injectable() 데코레이터와 함께 사용되어야 하고 PipeTransform 인터페이스를 구현해야 합니다.

\* 요청 주기

https://docs.nestjs.com/faq/request-lifecycle
